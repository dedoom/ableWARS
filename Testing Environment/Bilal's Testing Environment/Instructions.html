<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title></title>
        <script src="javascript/jquery.js"></script> 
        <!--<script src="javascript/gameplay.js"></script>-->
        <link rel="StyleSheet" href="css/styles.css" />
    </head>
    <body>
        <div id="SISOButtons">
        <label id="welcomeMessage">Login to access the game! Don't have an account? Register Now!</label>
        <div class="btnContainer" id="stateLoggedOut">
            <a href="login.html"><div class="accBtn" id="logInButton">Log In</div></a>
            <a href="Registration.html"><div class="accBtn" id="registerButton">Register</div></a>
        </div>
        <div class="btnContainer" id="stateLoggedIn">
            <div class="accBtn" id="logoutButton" onclick="signOut()">Sign Out</div>
        </div>
    </div>
        <br /><br /><br /><br />
        <div id="able_wars_">How To Play</div>
        <br />
        <!-- BILAL's BUTTON Edit: onclick -->
        <div id="HowToPlay" class="infoBox">
            <p class="instructionsText" id="instruction1">ABLE WARS is a team based competition game. You and your team must work together against the opposing team to help keep your champion out of the mud,
				while trying to put your opponent's competitor in to it. Every point you score for you team brings you one step closer to victory, and your opponent on step closer
				to the MUD!</p>
			<p class="instructionsText" id="instruction2">When your game begins, several moving shapes will be placed in the playing field, Your first target shape will be displayed above the playing 
				field, and the target shape will have a given number of lives shown beside it.</p>
			<p class="instructionsText" id="instruction3">You must attempt to tap the target shape as many times as it has lives before a player on the opposing team does the same. If you succeed at this, 
				you will score a point for your team and knock your opponent down a peg.</p>
			<p class="instructionsText" id="instruction4">When one team has been pulled into the mud before the time runs out, the team not in the mud wins. If the timer runs out before one team has 
				been pulled into the mud, the game will end, and the team with the highest score is the winner. Put your enemies in the mud and prove your GREATNESS!</p>
            <button class="instructionsNextBackBtn" id="instructionsBackBtn" onclick="instructionsBack()">Back</button>
			<button class="instructionsNextBackBtn" id="instructionsNextBtn" onclick="instructionsNext()">Next</button>
        </div>
			<br /><br />
		<div id="artboard_1">
            <a href="play.html" onclick="return validate();"><img class="mainBtn warBtn" id="go_to_war" src="img/warBtn.png"/></a>
            <a href="Index.html"><img class="mainBtn IndexBtn" id="go_to_menu" src="img/mmBtn.png"/></a>
        </div>
        
		<br/><br/>
        
    </body>
	     <!-- BILAL's BUTTON Edit ENDS -->
	<script>
		var browserWidth, browserHeight;
		var instruction = 1;
		
		$(document).ready(function(){
            if (sessionStorage.userId) {
                loggedIn();
            } else {
                loggedOut();
            }
            
			sizeComponentsToBrowser();
			$('#instruction2').css('display', 'none');
			$('#instruction3').css('display', 'none');
			$('#instruction4').css('display', 'none');
		});
		
		$(window).resize(function(){
			sizeComponentsToBrowser();
		});
		
		function instructionsBack(){
			if (instruction == 1){
				return;
			}
			$('#instruction' + instruction).css('display', 'none');
			instruction--;
			$('#instruction' + instruction).css('display', 'block');
		}
		
		function instructionsNext(){
			if (instruction == 4){
				return;
			}
			$('#instruction' + instruction).css('display', 'none');
			instruction++;
			$('#instruction' + instruction).css('display', 'block');
		}
		
		function sizeComponentsToBrowser() {
		    browserWidth = $(window).width();
		    browserHeight = $(window).height();
		   
		    $('#able_wars_').width(browserWidth * 0.7);
		    $('#able_wars_').css('margin-left', browserWidth * 0.15);
		    $('#able_wars_').css('margin-top', parseFloat($('#able_wars_').height()) / 8);
		    $('#able_wars_').css('margin-bottom', parseFloat($('#able_wars_').height()) / 8);
		    $('#able_wars_').css('font-size', $('#able_wars_').height() * 0.9);
            

		    $('#go_to_war').css('width', browserWidth / 3);
		    $('#go_to_war').css('margin-left', browserWidth / 3);
		    $('#go_to_war').css('height', parseFloat($('#go_to_war').css('width')) / 5.34);
		    $('#go_to_war').css('margin-top', parseFloat($('#go_to_war').css('height')) * 0.5);

		    $('#go_to_menu').css('width', browserWidth / 3);
		    $('#go_to_menu').css('margin-left', browserWidth / 3);
		    $('#go_to_menu').css('height', parseFloat($('#go_to_war').css('width')) / 5.34);
		    $('#go_to_menu').css('margin-top', parseFloat($('#go_to_war').css('height')) * 0.5);
		 	   
		}
		
    // BILAL's BUTTON Edit: onclick -->
	$(".mainBtn").mousedown(function () {
        if (sessionStorage.userId) {
            if ($(this).hasClass("warBtn")) {
                $(this).attr('src', "img/warBtnClick.png");
            }
            else if ($(this).hasClass("IndexBtn")) {
                $(this).attr('src', "img/mmBtnClick.png");
            }
        } else {
            if ($(this).hasClass("warBtn")) {
                $(this).attr('src', "img/warBtnClickGrey.png");
            }
            else if ($(this).hasClass("IndexBtn")) {
                $(this).attr('src', "img/mmBtnClick.png");
            }
        }
    });
	
    $(".mainBtn").mouseup(function () {
        if (sessionStorage.userId) {
            if ($(this).hasClass("warBtn")) {
                $(this).attr('src', "img/warBtn.png");
            }
            else if ($(this).hasClass("IndexBtn")) {
                $(this).attr('src', "img/mmBtn.png");
            }
        } else {
            if ($(this).hasClass("warBtn")) {
                $(this).attr('src', "img/warBtnGrey.png");
            }
            else if ($(this).hasClass("IndexBtn")) {
                $(this).attr('src', "img/mmBtn.png");
            }
        }
    });
        
    function loggedIn() {
            $('#welcomeMessage').text("Welcome " + sessionStorage.userId + " !");
            $('#stateLoggedOut').hide();
            $('#stateLoggedIn').show();
            $('#go_to_war').attr('src', 'img/warBtn.png');
            
        }
        function loggedOut() {
            $('#welcomeMessage').text("Login to access the game! Don't have an account? Register Now!");
            $('#stateLoggedOut').show();
            $('#stateLoggedIn').hide();
            $('#go_to_war').attr('src', 'img/warBtnGrey.png');
        }
        function signOut() {
            sessionStorage.clear();
            window.location.assign("/instructions.html");
        }
        function validate() {
            if(sessionStorage.userId) {
                return true;
            } else {
                return false;
            }
        }
	// BILAL's BUTTON Edit ENDS 	
	</script>
</html>